{"version":3,"file":"src_app_features_features_module_ts.js","mappings":"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","sources":["./src/app/features/features.component.ts","./src/app/features/features.component.html","./src/app/features/features.module.ts","./src/app/features/features.routing.ts"],"sourcesContent":["import { AfterViewInit, Component } from '@angular/core';\nimport { FeatureActions } from '../actions/features.actions';\nimport { Feature } from '../models/feature.model';\nimport { selectFeatures, selectFeaturesData } from '../reducers/features.reducer';\nimport { ConfirmationDialogActions } from '../actions/confirmation-dialog.actions';\nimport { BaseListingComponent } from '../base-listing.component';\n\n@Component({\n  selector: 'app-features',\n  templateUrl: './features.component.html',\n})\nexport class FeaturesComponent extends BaseListingComponent<Feature> implements AfterViewInit {\n  features$ = this.store.select(selectFeatures);\n  tableDataSource$ = this.store.select(selectFeaturesData);\n\n  ngOnInit(): void {\n    this.sortActive = 'id';\n    this.sortDirection = 'asc';\n    this.columns = ['id', 'description', 'enabled', 'actions'];\n\n    super.ngOnInit();\n    this.store.dispatch(FeatureActions.loadFeatures());\n  }\n\n  // Link native CDK sorting and pagination mechanisms since we do not get\n  // paginated data from the BE and will handle everything on front end\n  ngAfterViewInit(): void {\n    this.dataSource.sort = this.sort;\n    this.dataSource.paginator = this.paginator;\n  }\n\n  // Override base filter method and use native CDK filtering\n  filter(value: string): void {\n    this.dataSource.filter = value.trim().toLocaleLowerCase();\n  }\n\n  toggleStatus(item: Feature | null): void {\n    this.store.dispatch(\n      ConfirmationDialogActions.show({\n        data: {\n          template: `\n            Are you sure you want to ${item.enabled ? 'disable' : 'enable'}\n            <strong>${item.id}</strong>?\n          `,\n          confirm: {\n            label: item.enabled ? 'Disable' : 'Enable',\n            color: item.enabled ? 'warn' : 'primary',\n          },\n        },\n        ok: () => {\n          this.store.dispatch(FeatureActions.toggleFeatureStatus({ data: item }));\n        },\n      })\n    );\n  }\n}\n","<dib-wrapper-main>\n  <dib-breadcrumbs>\n    <dib-breadcrumb label=\"Dashboard\" route=\"/\"></dib-breadcrumb>\n    <dib-breadcrumb label=\"Features\" route=\"/features\"></dib-breadcrumb>\n  </dib-breadcrumbs>\n\n  <dib-wrapper-listing>\n    <ng-container slot=\"filters\">\n      <mat-form-field>\n        <mat-label>Filter results</mat-label>\n        <input matInput (keyup)=\"filter($event.target.value)\" autocomplete=\"off\" />\n      </mat-form-field>\n    </ng-container>\n\n    <ng-container slot=\"total\">\n      <dib-wrapper-listing-total [total]=\"(features$ | async).data.length\"></dib-wrapper-listing-total>\n    </ng-container>\n\n    <ng-container slot=\"actions\"></ng-container>\n\n    <ng-container slot=\"table\">\n      <table\n        mat-table\n        matSort\n        [matSortActive]=\"sortActive\"\n        [matSortDirection]=\"sortDirection\"\n        matSortDisableClear\n        [dataSource]=\"dataSource\"\n        class=\"whitespace-nowrap\"\n      >\n        <ng-container matColumnDef=\"id\">\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>Feature ID</th>\n          <td class=\"whitespace-normal break-all pr-2\" mat-cell *matCellDef=\"let row\">{{ row.id }}</td>\n        </ng-container>\n        <ng-container matColumnDef=\"description\">\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>Descrption</th>\n          <td class=\"whitespace-normal break-words pr-2\" mat-cell *matCellDef=\"let row\">{{ row.description }}</td>\n        </ng-container>\n        <ng-container matColumnDef=\"enabled\">\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>\n          <td mat-cell *matCellDef=\"let row\">\n            <span class=\"flex items-center text-xs\">\n              <span class=\"material-icons mr-1 text-xs text-gray-200\" [class.text-red-600]=\"!row.enabled\">circle</span>\n              {{ row.enabled ? 'Enabled' : 'Disabled' }}\n            </span>\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"loader\">\n          <th [colSpan]=\"columns.length\" mat-header-cell *matHeaderCellDef>\n            <div *ngIf=\"(features$ | async).loading\">\n              <mat-progress-bar mode=\"indeterminate\" class=\"absolute\"></mat-progress-bar>\n            </div>\n          </th>\n        </ng-container>\n\n        <ng-container matColumnDef=\"actions\">\n          <th mat-header-cell *matHeaderCellDef></th>\n          <td mat-cell *matCellDef=\"let row\" class=\"text-right\">\n            <button\n              mat-icon-button\n              color=\"accent\"\n              (click)=\"toggleStatus(row)\"\n              [matTooltip]=\"row.enabled ? 'Disable feature' : 'Enable feature'\"\n              matTooltipPosition=\"left\"\n            >\n              <span class=\"material-icons\">\n                {{ row.enabled ? 'hide_source' : 'check_circle_outline' }}\n              </span>\n            </button>\n          </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"columns\"></tr>\n        <tr mat-header-row *matHeaderRowDef=\"['loader']\"></tr>\n        <tr mat-row *matRowDef=\"let myRowData; columns: columns\"></tr>\n        <tr *matNoDataRow class=\"whitespace-normal\">\n          <td [colSpan]=\"columns.length\" class=\"border-b p-6 text-center\">\n            <ng-container *ngIf=\"(features$ | async).loading; else noData\">\n              Loading data. This can take a few seconds, please be patient.\n            </ng-container>\n            <ng-template #noData> No records found. Please refine your search and try again. </ng-template>\n          </td>\n        </tr>\n      </table>\n    </ng-container>\n\n    <ng-container slot=\"pagination\">\n      <mat-paginator [length]=\"(features$ | async).data.length\" [pageSize]=\"10\"></mat-paginator>\n    </ng-container>\n  </dib-wrapper-listing>\n</dib-wrapper-main>\n","import { NgModule } from '@angular/core';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { CommonModule } from '@angular/common';\nimport { EffectsModule } from '@ngrx/effects';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { routing } from './features.routing';\nimport { FeaturesComponent } from './features.component';\nimport { FeatureEffects } from '../effects/feature.effects';\nimport { BreadcrumbsModule } from '../global/breadcrumbs/breadcrumbs.module';\nimport { WrapperListingModule } from '../global/wrapper/listing/wrapper-listing.module';\nimport { WrapperMainModule } from '../global/wrapper/main/wrapper-main.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    routing,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatProgressBarModule,\n    MatButtonModule,\n    MatSnackBarModule,\n    EffectsModule.forFeature([FeatureEffects]),\n    MatDialogModule,\n    FormsModule,\n    MatInputModule,\n    BreadcrumbsModule,\n    WrapperListingModule,\n    MatTooltipModule,\n    WrapperMainModule,\n  ],\n  declarations: [FeaturesComponent, FeaturesComponent],\n  providers: [],\n})\nexport class FeaturesModule {}\n","import { Routes, RouterModule } from '@angular/router';\nimport { FeaturesComponent } from './features.component';\nimport { AuthGuard } from '../auth/auth.guard';\nimport { SuperAdminGuard } from '../auth/super-admin.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    canActivate: [AuthGuard],\n    // Have to use children option to prevent all guards from executing. This way they will execute one by one\n    children: [\n      {\n        path: '',\n        component: FeaturesComponent,\n        canActivate: [SuperAdminGuard],\n        data: { title: 'Features' },\n      },\n    ],\n  },\n];\n\nexport const routing = RouterModule.forChild(routes);\n"],"names":["FeatureActions","selectFeatures","selectFeaturesData","ConfirmationDialogActions","BaseListingComponent","i0","FeaturesComponent","constructor","store","select","ngOnInit","sortActive","sortDirection","columns","dispatch","loadFeatures","ngAfterViewInit","dataSource","sort","paginator","filter","value","trim","toLocaleLowerCase","toggleStatus","item","show","data","template","enabled","id","confirm","label","color","ok","toggleFeatureStatus","selectors","features","decls","vars","consts","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}